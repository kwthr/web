---
title: "Codificaci√≥n de apps React m√°s r√°pida: C√≥mo migrar de Emotion CSS-in-JS a Stylify Utility-First CSS"
image: '/images/blog/emotion-migration/header.jpg'
ogImage: '/images/blog/emotion-migration/og-image.jpg'
author: Vladim√≠r Mach√°ƒçek
annotation: "¬øQuieres dar estilo a tu aplicaci√≥n React m√°s r√°pido? Aprende c√≥mo migrar f√°cilmente de Emotion CSS-in-JS a Stylify utility-first CSS para un mejor desarrollo de React."
createdAt: 'February 24, 2023'
---

¬øBuscas una forma mejor de gestionar tu CSS en React? Aprende a migrar de Emotion CSS-in-JS al enfoque utility-first de Stylify CSS y agiliza tu flujo de trabajo de desarrollo.

Puedes probar los ejemplos de este art√≠culo en el [Playground On Stackblitz](https://stackblitz.com/edit/stylify-styled-components-migration?file=package.json,src%2FApp.jsx,README.MD,src%2Fmain.jsx) üöÄ.

## üíé Introducci√≥n
[Stylify](https://stylifycss.com) es una librer√≠a que utiliza selectores similares a CSS para generar CSS optimizado basado en lo que escribes.

Caracter√≠sticas:
- ‚úÖ M√≥dulo de construcci√≥n. Sin script en tiempo de ejecuci√≥n.
- ‚úÖ Selectores tipo CSS
- ‚úÖ Sin framework que estudiar.
- ‚úÖ Menos tiempo invertido en docs.
- ‚úÖ CSS manoseado y extremadamente peque√±o
- ‚úÖ No es necesario purgar CSS
- ‚úÖ Componentes, variables, selectores personalizados
- ‚úÖ Puede generar m√∫ltiples paquetes de CSS.

## üîó Componentes
En Emotion, los componentes se definen a menudo de esta manera:
```jsx
const Title = styled.h1`
	color: blue
	font-weight: bold
	@media (max-width: 640px) {
		color:red
	}
`;
<Title>¬°Hola Mundo!üéâ</Title>
```

Stylify proporciona una caracter√≠stica similar. Los [Componentes](/es/docs/stylify/compiler/#components) pueden ser definidos dentro de un archivo (usando [content options](/es/docs/stylify/compiler/#contentoptionsprocessors)), donde son usados, o globalmente dentro de una config.

Ejemplo con la configuraci√≥n dentro de un archivo. El contenido entre `stylify-components` espera objeto javascript sin corchetes circundantes:
```html
<!--
stylify-components
	title: 'color:blue font-weight:bold md:color:red'
/stylify-components
-->
<h1 class="title"></h1>
```

Ejemplo en una configuraci√≥n global del compilador:
```javascript
const compilerConfig = {
	title: 'color:blue font-weight:bold md:color:red'
};
```

Uso:
```html
<h1 class="title"></h1>
```

**Los componentes son "lazy" (generados bajo demanda)**. Esto significa, que incluso si los configuras (en un archivo o globalmente), se generar√°n s√≥lo si coinciden dentro del contenido. No se generar√° CSS no utilizado. Lo mismo ocurre con las utilidades. Si la utilidad de un componente no coincide directamente con el contenido, no se generar√° el selector y s√≥lo se a√±adir√° el selector del componente a la salida CSS.

**La salida CSS de producci√≥n** tendr√° este aspecto en producci√≥n:
```css
.a,.d {color:blue}
.b,.d {font-weight:bold}
 @media (max-width: 768px) {
 .c,.d {color:red}
 }
```

La salida html:
```html
<h1 class="d"></h1>
```

## Selectores
En Emotion, puedes usar CSS prop para dar estilo a un elemento directamente as√≠:
```jsx
<div css={css`
	color: blue;
	font-weight: bold;
	@media (min-width: 640px) {
		color: red;
	}
`}></div>
```

Stylify te permite usar utilidades directamente dentro del contenido. As√≠ que el ejemplo anterior puede ser refactorizado a esto:
```html
<div className="color:blue font-weight:bold md:color:red"></div>
```

La salida de producci√≥n del CSS ser√° similar al ejemplo de los componentes. El HTML sin embargo se ver√° as√≠:
```html
<div className="a b c"></div>
```

## Estilos globales
A veces necesitamos dar estilo a algunas partes de la aplicaci√≥n de forma global. Para hacerlo dentro de Emotion, necesitamos usar el componente Global:
```jsx
<Global
	styles={css`
		.some-class {
		color: hotpink !important;
		}
	`}
/>
```

En el caso de Stylify, puedes usar [custom selectors](/es/docs/get-started#selectores-personalizados) para resolver este problema. Estos selectores pueden ser definidos directamente dentro del atributo class o en la configuraci√≥n global.

Ejemplo con el atributo class:
```jsx
<div className="[.button_.icon]{font-size:14px}">
	<button className="
		[.icon]{color:#fff;border-radius:12px}
		[&+button]{margin-left:24px}
	">
		<i className="icon"></i>
	</button>
	<button></button>
<div>
```

El patr√≥n sint√°ctico en el atributo class tiene el siguiente aspecto:
```
[selectores css]{selectores de estilizaci√≥n divididos por ;}
```

El `_` (gui√≥n bajo) se utiliza en lugar del espacio en ambos selectores CSS y Stylify y el car√°cter `&` siempre se refiere al elemento actual.

El mismo c√≥digo pero en la configuraci√≥n global se ver√≠a as√≠
```javascript
const compilerConfig = {
	customSelectors: {
		'.buttons-wrapper .button .icon': 'font-size:14px',
		'.button': `
		.icon { color:#fff border-radius:12px }
		& + button { margin-left:24px }
		`,
	}
}
```

Al definir `customSelectors` en la configuraci√≥n global, la sintaxis permite utilizar una funci√≥n de anidamiento. Los caracteres & hacen referencia al nivel superior.

Uso de la configuraci√≥n global:
```jsx
<div className="buttons-wrapper">
	<button className="button">
		<i className="icon"></i>
	</button>
	<button></button>
</div>
```

## üí≤Variables
Cuando necesites pasar un color al componente usando props, entonces en lugar de hacer esto `color: ${props => props.textColor};`, puedes usar variables CSS nativas:
```html
<div
	style={{ '--localTextColor': props.textColor }}
	className="title color:$localTextColor"
>
</div>
```

S√≥lo tenemos que decirle a Stylify que el `localTextColor` es externo:
```javascript
const compilerConfig = {
	externalVariables: ['localTextColor']
}
```

La variable externa tambi√©n se puede definir s√≥lo en el archivo donde se utiliza:
```html
<!--
stylify-externalVariables
	localTextColor
/stylify-externalVariables
-->
<div
	style={{ '--localTextColor': props.textColor }}
	className="title color:$localTextColor"
>
```

Stylify tambi√©n proporciona una opci√≥n para **configurar variables personalizadas**. Se puede hacer en el fichero donde se usan, de la misma forma que los componentes o en la configuraci√≥n global:

En el archivo:
```html
<!--
stylify-variables
	primary: '#000',
	secondary: '#444'
/stylify-variables
-->
<div class="color:$primary"></div>
```

En Compiler Config:
```javascript
const compilerConfig = {
	primary: '#000'
}
```

## üì¶ Dividir CSS
Emotion divide el CSS autom√°ticamente y lo inyecta directamente en el documento bas√°ndose en los componentes renderizados.

Stylify no tiene ning√∫n script de ejecuci√≥n, por lo que tienes que configurar el [Bundler](/es/docs/bundler) y la divisi√≥n manualmente.

Sin embargo, la salida de Stylify es tan peque√±a (puede ser incluso 10 Kb (gzipped) para un sitio web grande), que est√° bien tener s√≥lo un paquete para todo el proyecto. Eventualmente, puedes [ver consejos](/es/docs/get-started/best-practices#splitting-css) para dividir los paquetes CSS.

Ejemplo de configuraci√≥n de paquetes:
```javascript
const bundles = [
	{
		outputFile: 'path/to/layout.css',
		files: ['path/to/layout.jsx']
	},

	// Bundler utiliza https://npmjs.com/package/fast-glob
	// Puedes usar su sintaxis glob
	{
		outputFile: 'path/to/global.css',
		files: ['path/**/*.jsx']
	}
]);
```
